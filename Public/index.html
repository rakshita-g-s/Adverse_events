<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Forecast Graph</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Adverse Events Graphs</h1>
    <div id="plotly-forecast"style="height: 400px; width: 100%;"></div>
    <div id="plotly-recommendations"></div>
    <div id="plotly-turnaround"style="height: 400px; width: 100%;"></div>
    <div id="plotly-complaints"style="height: 400px; width: 100%;"></div>
    <div id="plotly-monthly-events"style="height: 400px; width: 100%;"></div>
    <div id="plotly-manufacturer-events"style="height: 400px; width: 100%;"></div>
    <div id="plotly-forecast-deviation"style="height: 400px; width: 100%;"></div>
   
   <script>
      // Fetch and render each graph
      
      function renderGraph(url, divId) {
          fetch(url)
              .then(response => response.json())
              .then(data => {
                  const plotData = JSON.parse(data.plot);
                  Plotly.newPlot(divId, plotData.data, plotData.layout);
              })
              .catch(error => console.error('Error fetching data:', error));
      }
  
      // Render each graph
      renderGraph('http://127.0.0.1:5000/forecast', 'plotly-forecast');
      renderGraph('http://127.0.0.1:5000/recommendations', 'plotly-recommendations');
      renderGraph('http://127.0.0.1:5000/turnaround', 'plotly-turnaround');
      renderGraph('http://127.0.0.1:5000/complaints', 'plotly-complaints');
      renderGraph('http://127.0.0.1:5000/monthly-events', 'plotly-monthly-events');
      renderGraph('http://127.0.0.1:5000/events-by-manufacturer', 'plotly-manufacturer-events');
      renderGraph('http://127.0.0.1:5000/forecast-deviation', 'plotly-forecast-deviation');
  </script>
  
</body>
</html>
